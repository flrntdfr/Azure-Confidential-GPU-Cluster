---
# Main tasks file for common role

- name: Import user management tasks
  ansible.builtin.import_tasks: users.yml

- name: Import munge configuration tasks
  ansible.builtin.import_tasks: munge.yml

- name: Import slurm configuration tasks
  ansible.builtin.import_tasks: slurm.yml

- name: Include control node tasks
  ansible.builtin.include_tasks: control.yml
  when: inventory_hostname in groups['login']

- name: Include compute node tasks
  ansible.builtin.include_tasks: compute.yml
  when: inventory_hostname in groups['compute']
